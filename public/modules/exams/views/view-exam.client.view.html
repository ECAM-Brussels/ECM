<section data-ng-controller="ExamsController" data-ng-init="findOne()">
	<h1>{{exam.course.ID}}</h1>

	<h2>Information</h2>

	<dl class="dl-horizontal">
		<dt>Course</dt>
		<dd>{{exam.course.ID}} &mdash; {{exam.course.name}}</dd>
		<dt>Coordinator</dt>
		<dd>{{exam.course.coordinator.username}}</dd>
		<dt>Date</dt>
		<dd>{{exam.date | date: "dd MMM yyyy H:mm"}}</dd>
		<dt>Rooms</dt>
		<dd><span ng-repeat="room in exam.rooms">{{room.ID}} </span></dd>
		<dt>Groups</dt>
		<dd><span ng-repeat="group in exam.groups">{{group}} </span></dd>
	</dl>

	<h2>Copies</h2>

	<div ng-if="exam.split">
		<p>One PDF file has to be uploaded for each activity of the course.</p>
		<ul class="list-group">
			<li class="list-group-item" ng-repeat="activity in exam.activities">
				<p><b>{{activity.ID}}</b> (<span ng-repeat="teacher in activity.teachers">{{teacher.username}}</span>)</p>

				<div ng-if="findCopy(activity, exam.copies)">
					<p>PDF file has been uploaded by {{copy.user.username}} on {{copy.uploaded | date: "dd MMM yyyy H:mm"}}</p>
				</div>

				<div ng-if="! findCopy(activity, exam.copies)">
					<div ng-if="findTeacher(authentication.user, activity.teachers)">
						<form class="form-inline">
							<div class="form-group">
								<label for="file_{{exam.copies._id}}">Upload file</label> <input type="file" class="form-control" id="file_{{exam.copies._id}}" />
							</div>
							<button type="submit" class="btn btn-default">Upload</button>
						</form>
					</div>
				</div>
			</li>
		</ul>
	</div>

	<div ng-if="!exam.split">
		<p>Only one PDF has to be uploaded for all the activities of the course.</p>
	</div>
</section>
